<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux - Curl使用 | Java 全栈知识体系</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/blog/images/favorite.ico">
    <meta name="description" content="对我妻子的爱是让我不断前进的动力，使我的人生少了一份恐惧，多了一份勇气。愿[执子之手, 与子偕老  To: LQ] ">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6822ba10.css" as="style"><link rel="preload" href="/blog/assets/js/app.ba0a3011.js" as="script"><link rel="preload" href="/blog/assets/js/4.a5b48594.js" as="script"><link rel="preload" href="/blog/assets/js/59.396cafd6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.911987ed.js"><link rel="prefetch" href="/blog/assets/js/11.8c13b615.js"><link rel="prefetch" href="/blog/assets/js/12.b17d390e.js"><link rel="prefetch" href="/blog/assets/js/13.7109526b.js"><link rel="prefetch" href="/blog/assets/js/14.e4ce975e.js"><link rel="prefetch" href="/blog/assets/js/15.da7d650d.js"><link rel="prefetch" href="/blog/assets/js/16.9635a830.js"><link rel="prefetch" href="/blog/assets/js/17.7d32a3b3.js"><link rel="prefetch" href="/blog/assets/js/18.fdb5b421.js"><link rel="prefetch" href="/blog/assets/js/19.420c5e02.js"><link rel="prefetch" href="/blog/assets/js/2.3871e21e.js"><link rel="prefetch" href="/blog/assets/js/20.39a01f59.js"><link rel="prefetch" href="/blog/assets/js/21.4db56d7a.js"><link rel="prefetch" href="/blog/assets/js/22.a662eef6.js"><link rel="prefetch" href="/blog/assets/js/23.732a383c.js"><link rel="prefetch" href="/blog/assets/js/24.ec41e443.js"><link rel="prefetch" href="/blog/assets/js/25.860071a5.js"><link rel="prefetch" href="/blog/assets/js/26.8c4d2716.js"><link rel="prefetch" href="/blog/assets/js/27.11da77fc.js"><link rel="prefetch" href="/blog/assets/js/28.b487366d.js"><link rel="prefetch" href="/blog/assets/js/29.1803ef74.js"><link rel="prefetch" href="/blog/assets/js/3.51bdab14.js"><link rel="prefetch" href="/blog/assets/js/30.d02fbbe4.js"><link rel="prefetch" href="/blog/assets/js/31.56444d1d.js"><link rel="prefetch" href="/blog/assets/js/32.2a36d03a.js"><link rel="prefetch" href="/blog/assets/js/33.3725c3e0.js"><link rel="prefetch" href="/blog/assets/js/34.5f4e3aa4.js"><link rel="prefetch" href="/blog/assets/js/35.ef73c3f8.js"><link rel="prefetch" href="/blog/assets/js/36.fe990cea.js"><link rel="prefetch" href="/blog/assets/js/37.47682786.js"><link rel="prefetch" href="/blog/assets/js/38.baebdf75.js"><link rel="prefetch" href="/blog/assets/js/39.00ea206a.js"><link rel="prefetch" href="/blog/assets/js/40.23ec2501.js"><link rel="prefetch" href="/blog/assets/js/41.2daf7c45.js"><link rel="prefetch" href="/blog/assets/js/42.c6d1131e.js"><link rel="prefetch" href="/blog/assets/js/43.c9d5a03a.js"><link rel="prefetch" href="/blog/assets/js/44.cdc6a286.js"><link rel="prefetch" href="/blog/assets/js/45.902028e9.js"><link rel="prefetch" href="/blog/assets/js/46.553ccd2d.js"><link rel="prefetch" href="/blog/assets/js/47.f3680de2.js"><link rel="prefetch" href="/blog/assets/js/48.b3656314.js"><link rel="prefetch" href="/blog/assets/js/49.9e76608b.js"><link rel="prefetch" href="/blog/assets/js/5.a5abfe4e.js"><link rel="prefetch" href="/blog/assets/js/50.0cda1225.js"><link rel="prefetch" href="/blog/assets/js/51.84ebc08f.js"><link rel="prefetch" href="/blog/assets/js/52.943ab0ec.js"><link rel="prefetch" href="/blog/assets/js/53.81a3ff5a.js"><link rel="prefetch" href="/blog/assets/js/54.68037e26.js"><link rel="prefetch" href="/blog/assets/js/55.8ed30271.js"><link rel="prefetch" href="/blog/assets/js/56.ed07b1e0.js"><link rel="prefetch" href="/blog/assets/js/57.6b65606f.js"><link rel="prefetch" href="/blog/assets/js/58.396c2826.js"><link rel="prefetch" href="/blog/assets/js/6.896d3ff4.js"><link rel="prefetch" href="/blog/assets/js/60.7468b775.js"><link rel="prefetch" href="/blog/assets/js/61.15e652da.js"><link rel="prefetch" href="/blog/assets/js/62.a3b62be1.js"><link rel="prefetch" href="/blog/assets/js/63.6341c331.js"><link rel="prefetch" href="/blog/assets/js/64.5ad96112.js"><link rel="prefetch" href="/blog/assets/js/65.c8815d96.js"><link rel="prefetch" href="/blog/assets/js/66.220d8298.js"><link rel="prefetch" href="/blog/assets/js/67.8f678d56.js"><link rel="prefetch" href="/blog/assets/js/68.86e3017e.js"><link rel="prefetch" href="/blog/assets/js/69.a732f6b2.js"><link rel="prefetch" href="/blog/assets/js/7.486b913b.js"><link rel="prefetch" href="/blog/assets/js/70.873d407a.js"><link rel="prefetch" href="/blog/assets/js/71.e40010a4.js"><link rel="prefetch" href="/blog/assets/js/72.aef34e7f.js"><link rel="prefetch" href="/blog/assets/js/73.34cb7bbc.js"><link rel="prefetch" href="/blog/assets/js/74.711ea49d.js"><link rel="prefetch" href="/blog/assets/js/75.1d427b3f.js"><link rel="prefetch" href="/blog/assets/js/8.3ff4efcd.js"><link rel="prefetch" href="/blog/assets/js/9.31831817.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6822ba10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/images/logo.png" alt="Java 全栈知识体系" class="logo"> <span class="site-name can-hide">Java 全栈知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="这是提示语" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="这是提示语" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">
  下拉1
</a></li><li class="dropdown-item"><!----> <a href="https://u1s1.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下拉2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="这是提示语" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="这是提示语" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">
  下拉1
</a></li><li class="dropdown-item"><!----> <a href="https://u1s1.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下拉2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/" class="sidebar-heading clickable router-link-active"><span>首页</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/全栈知识体系总览.html" class="sidebar-link">全栈知识体系总览</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/部署与工具" class="sidebar-heading clickable open"><span>部署与工具</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/工具和资源/" class="sidebar-heading clickable"><span>工具和资源</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/blog/部署与工具/常用开发工具详解" class="sidebar-heading clickable"><span>常用开发工具详解</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/部署与工具/常用开发工具详解/01 Git详解.html" class="sidebar-link">Git详解</a></li><li><a href="/blog/部署与工具/常用开发工具详解/02 Eclipse STS IDEA.html" class="sidebar-link">Eclipse STS IDEA</a></li><li><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html" class="sidebar-link">Maven项目构建</a></li><li><a href="/blog/部署与工具/常用开发工具详解/04 Maven私有仓库Nexus.html" class="sidebar-link">Maven私有仓库Nexus</a></li><li><a href="/blog/部署与工具/常用开发工具详解/05 Jenkins+Github.html" class="sidebar-link">Jenkins+Github</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/Linux相关/" class="sidebar-heading clickable open"><span>Linux相关</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/部署与工具/Linux相关/01 Linux基础知识.html" class="sidebar-link">Linux基础知识</a></li><li><a href="/blog/部署与工具/Linux相关/02 零拷贝技术.html" class="sidebar-link">零拷贝技术</a></li><li><a href="/blog/部署与工具/Linux相关/03 Linux常用.html" class="sidebar-link">Linux常用</a></li><li><a href="/blog/部署与工具/Linux相关/04 ab压力测试.html" class="sidebar-link">ab压力测试</a></li><li><a href="/blog/部署与工具/Linux相关/05 内存分析工具pmap.html" class="sidebar-link">内存分析工具pmap</a></li><li><a href="/blog/部署与工具/Linux相关/06 Curl使用.html" class="active sidebar-link">Curl使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#linux-curl使用-2" class="sidebar-link">[#](#linux-curl使用-1) Linux Curl使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#下载单个文件" class="sidebar-link">[#](#下载单个文件) 下载单个文件</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#同时获取多个文件" class="sidebar-link">[#](#同时获取多个文件) 同时获取多个文件</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#通过-l选项进行重定向" class="sidebar-link">[#](#通过-l选项进行重定向) 通过-L选项进行重定向</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#断点续传" class="sidebar-link">[#](#断点续传) 断点续传</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#对curl使用网络限速" class="sidebar-link">[#](#对curl使用网络限速) 对CURL使用网络限速</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#下载指定时间内修改过的文件" class="sidebar-link">[#](#下载指定时间内修改过的文件) 下载指定时间内修改过的文件</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#curl授权" class="sidebar-link">[#](#curl授权) CURL授权</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#从ftp服务器下载文件" class="sidebar-link">[#](#从ftp服务器下载文件) 从FTP服务器下载文件</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#上传文件到ftp服务器" class="sidebar-link">[#](#上传文件到ftp服务器) 上传文件到FTP服务器</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#获取更多信息" class="sidebar-link">[#](#获取更多信息) 获取更多信息</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#为curl设置代理" class="sidebar-link">[#](#为curl设置代理) 为CURL设置代理</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#保存与使用网站cookie信息" class="sidebar-link">[#](#保存与使用网站cookie信息) 保存与使用网站cookie信息</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#传递请求数据" class="sidebar-link">[#](#传递请求数据) 传递请求数据</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#上传文件" class="sidebar-link">[#](#上传文件) 上传文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Linux相关/06 Curl使用.html#参考" class="sidebar-link">[#](#参考) 参考</a></li></ul></li><li><a href="/blog/部署与工具/Linux相关/07 Linux创建自建服务.html" class="sidebar-link">Linux创建自建服务</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/Docker相关/" class="sidebar-heading clickable"><span>Docker相关</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux-curl使用"><a href="#linux-curl使用" class="header-anchor">#</a> Linux - Curl使用</h1> <blockquote><p>主要总结Linux Curl的一些常见用法。@pdai</p></blockquote> <ul><li>Linux - Curl使用
<ul><li>Linux Curl使用
<ul><li><a href="#%E4%B8%8B%E8%BD%BD%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6">下载单个文件</a></li> <li><a href="#%E5%90%8C%E6%97%B6%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6">同时获取多个文件</a></li> <li><a href="#%E9%80%9A%E8%BF%87-l%E9%80%89%E9%A1%B9%E8%BF%9B%E8%A1%8C%E9%87%8D%E5%AE%9A%E5%90%91">通过-L选项进行重定向</a></li> <li><a href="#%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0">断点续传</a></li> <li><a href="#%E5%AF%B9curl%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C%E9%99%90%E9%80%9F">对CURL使用网络限速</a></li> <li><a href="#%E4%B8%8B%E8%BD%BD%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E5%86%85%E4%BF%AE%E6%94%B9%E8%BF%87%E7%9A%84%E6%96%87%E4%BB%B6">下载指定时间内修改过的文件</a></li> <li><a href="#curl%E6%8E%88%E6%9D%83">CURL授权</a></li> <li><a href="#%E4%BB%8Eftp%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6">从FTP服务器下载文件</a></li> <li><a href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0ftp%E6%9C%8D%E5%8A%A1%E5%99%A8">上传文件到FTP服务器</a></li> <li><a href="#%E8%8E%B7%E5%8F%96%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF">获取更多信息</a></li> <li><a href="#%E4%B8%BAcurl%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86">为CURL设置代理</a></li> <li><a href="#%E4%BF%9D%E5%AD%98%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%BD%91%E7%AB%99cookie%E4%BF%A1%E6%81%AF">保存与使用网站cookie信息</a></li> <li><a href="#%E4%BC%A0%E9%80%92%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE">传递请求数据</a></li> <li><a href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6">上传文件</a></li></ul></li> <li><a href="#%E5%8F%82%E8%80%83">参考</a></li></ul></li></ul> <h2 id="linux-curl使用-2"><a href="#linux-curl使用-2" class="header-anchor">#</a> <a href="#linux-curl%E4%BD%BF%E7%94%A8-1">#</a> Linux Curl使用</h2> <h3 id="下载单个文件"><a href="#下载单个文件" class="header-anchor">#</a> <a href="#%E4%B8%8B%E8%BD%BD%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6">#</a> 下载单个文件</h3> <p>默认将输出打印到标准输出中(STDOUT)中</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> http://www.centos.org
</code></pre></div><p>通过-o/-O选项保存下载的文件到指定的文件中: -o: 将文件保存为命令行中指定的文件名的文件中 -O: 使用URL中默认的文件名保存文件到本地</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 将文件下载到本地并命名为mygettext.html</span>
<span class="token function">curl</span> <span class="token parameter variable">-o</span> mygettext.html http://www.gnu.org/software/gettext/manual/gettext.html
 
<span class="token comment"># 将文件保存到本地并命名为gettext.html</span>
<span class="token function">curl</span> <span class="token parameter variable">-O</span> http://www.gnu.org/software/gettext/manual/gettext.html
</code></pre></div><p>同样可以使用转向字符&quot;&gt;&quot;对输出进行转向输出</p> <h3 id="同时获取多个文件"><a href="#同时获取多个文件" class="header-anchor">#</a> <a href="#%E5%90%8C%E6%97%B6%E8%8E%B7%E5%8F%96%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6">#</a> 同时获取多个文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-O</span> URL1 <span class="token parameter variable">-O</span> URL2
</code></pre></div><p>若同时从同一站点下载多个文件时，curl会尝试重用链接(connection)。</p> <h3 id="通过-l选项进行重定向"><a href="#通过-l选项进行重定向" class="header-anchor">#</a> <a href="#%E9%80%9A%E8%BF%87-l%E9%80%89%E9%A1%B9%E8%BF%9B%E8%A1%8C%E9%87%8D%E5%AE%9A%E5%90%91">#</a> 通过-L选项进行重定向</h3> <p>默认情况下CURL不会发送HTTP Location headers(重定向).当一个被请求页面移动到另一个站点时，会发送一个HTTP Loaction header作为请求，然后将请求重定向到新的地址上。 例如: 访问google.com时，会自动将地址重定向到google.com.hk上。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> http://www.google.com
 <span class="token operator">&lt;</span>HTML<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>HEAD<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>meta http-equiv<span class="token operator">=</span><span class="token string">&quot;content-type&quot;</span> <span class="token assign-left variable">content</span><span class="token operator">=</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>TITLE<span class="token operator">&gt;</span><span class="token number">302</span> Moved<span class="token operator">&lt;</span>/TITLE<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>/HEAD<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>BODY<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>H<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token number">302</span> Moved<span class="token operator">&lt;</span>/H<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
     The document has moved
     <span class="token operator">&lt;</span>A <span class="token assign-left variable">HREF</span><span class="token operator">=</span><span class="token string">&quot;http://www.google.com.hk/url?sa=p&amp;amp;hl=zh-CN&amp;amp;pref=hkredirect&amp;amp;pval=yes&amp;amp;q=http://www.google.com.hk/&amp;amp;ust=1379402837567135amp;usg=AFQjCNF3o7umf3jyJpNDPuF7KTibavE4aA&quot;</span><span class="token operator">&gt;</span>here<span class="token operator">&lt;</span>/A<span class="token operator">&gt;</span>.
<span class="token operator">&lt;</span>/BODY<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/HTML<span class="token operator">&gt;</span>
</code></pre></div><p>上述输出说明所请求的档案被转移到了http://www.google.com.hk。</p> <p>这是可以通过使用-L选项进行强制重定向</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 让curl使用地址重定向，此时会查询google.com.hk站点</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> http://www.google.com
</code></pre></div><h3 id="断点续传"><a href="#断点续传" class="header-anchor">#</a> <a href="#%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0">#</a> 断点续传</h3> <p>通过使用-C选项可对大文件使用断点续传功能，如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 当文件在下载完成之前结束该进程</span>
$ <span class="token function">curl</span> <span class="token parameter variable">-O</span> http://www.gnu.org/software/gettext/manual/gettext.html
<span class="token comment">#############             20.1%</span>
<span class="token comment"># 通过添加-C选项继续对该文件进行下载，已经下载过的文件不会被重新下载</span>
<span class="token function">curl</span> <span class="token parameter variable">-C</span> - <span class="token parameter variable">-O</span> http://www.gnu.org/software/gettext/manual/gettext.html
<span class="token comment">##############            21.1%</span>
</code></pre></div><h3 id="对curl使用网络限速"><a href="#对curl使用网络限速" class="header-anchor">#</a> <a href="#%E5%AF%B9curl%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C%E9%99%90%E9%80%9F">#</a> 对CURL使用网络限速</h3> <p>通过--limit-rate选项对CURL的最大网络使用进行限制</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 下载速度最大不会超过1000B/second</span>
<span class="token function">curl</span> --limit-rate 1000B <span class="token parameter variable">-O</span> http://www.gnu.org/software/gettext/manual/gettext.html
</code></pre></div><h3 id="下载指定时间内修改过的文件"><a href="#下载指定时间内修改过的文件" class="header-anchor">#</a> <a href="#%E4%B8%8B%E8%BD%BD%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E5%86%85%E4%BF%AE%E6%94%B9%E8%BF%87%E7%9A%84%E6%96%87%E4%BB%B6">#</a> 下载指定时间内修改过的文件</h3> <p>当下载一个文件时，可对该文件的最后修改日期进行判断，如果该文件在指定日期内修改过，就进行下载，否则不下载。 该功能可通过使用-z选项来实现:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 若yy.html文件在2011/12/21之后有过更新才会进行下载</span>
<span class="token function">curl</span> <span class="token parameter variable">-z</span> <span class="token number">21</span>-Dec-11 http://www.example.com/yy.html
</code></pre></div><h3 id="curl授权"><a href="#curl授权" class="header-anchor">#</a> <a href="#curl%E6%8E%88%E6%9D%83">#</a> CURL授权</h3> <p>在访问需要授权的页面时，可通过-u选项提供用户名和密码进行授权</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-u</span> username:password URL
 
<span class="token comment"># 通常的做法是在命令行只输入用户名，之后会提示输入密码，这样可以保证在查看历史记录时不会将密码泄露</span>
<span class="token function">curl</span> <span class="token parameter variable">-u</span> username URL
</code></pre></div><h3 id="从ftp服务器下载文件"><a href="#从ftp服务器下载文件" class="header-anchor">#</a> <a href="#%E4%BB%8Eftp%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6">#</a> 从FTP服务器下载文件</h3> <p>CURL同样支持FTP下载，若在url中指定的是某个文件路径而非具体的某个要下载的文件名，CURL则会列出该目录下的所有文件名而并非下载该目录下的所有文件</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 列出public_html下的所有文件夹和文件</span>
<span class="token function">curl</span> <span class="token parameter variable">-u</span> ftpuser:ftppass <span class="token parameter variable">-O</span> ftp://ftp_server/public_html/

<span class="token comment"># 下载xss.php文件</span>
<span class="token function">curl</span> <span class="token parameter variable">-u</span> ftpuser:ftppass <span class="token parameter variable">-O</span> ftp://ftp_server/public_html/xss.php
</code></pre></div><h3 id="上传文件到ftp服务器"><a href="#上传文件到ftp服务器" class="header-anchor">#</a> <a href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0ftp%E6%9C%8D%E5%8A%A1%E5%99%A8">#</a> 上传文件到FTP服务器</h3> <p>通过 -T 选项可将指定的本地文件上传到FTP服务器上 复制代码</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 将myfile.txt文件上传到服务器</span>
<span class="token function">curl</span> <span class="token parameter variable">-u</span> ftpuser:ftppass <span class="token parameter variable">-T</span> myfile.txt ftp://ftp.testserver.com

<span class="token comment"># 同时上传多个文件</span>
<span class="token function">curl</span> <span class="token parameter variable">-u</span> ftpuser:ftppass <span class="token parameter variable">-T</span> <span class="token string">&quot;{file1,file2}&quot;</span> ftp://ftp.testserver.com

<span class="token comment"># 从标准输入获取内容保存到服务器指定的文件中</span>
<span class="token function">curl</span> <span class="token parameter variable">-u</span> ftpuser:ftppass <span class="token parameter variable">-T</span> - ftp://ftp.testserver.com/myfile_1.txt
</code></pre></div><h3 id="获取更多信息"><a href="#获取更多信息" class="header-anchor">#</a> <a href="#%E8%8E%B7%E5%8F%96%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF">#</a> 获取更多信息</h3> <p>通过使用 -v 和 -trace获取更多的链接信息</p> <p>通过字典查询单词</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token comment"># 查询bash单词的含义</span>
<span class="token number">2</span> <span class="token function">curl</span> dict://dict.org/d:bash
<span class="token number">3</span> 
<span class="token number">4</span> <span class="token comment"># 列出所有可用词典</span>
<span class="token number">5</span> <span class="token function">curl</span> dict://dict.org/show:db
<span class="token number">6</span> 
<span class="token number">7</span> <span class="token comment"># 在foldoc词典中查询bash单词的含义</span>
<span class="token number">8</span> <span class="token function">curl</span> dict://dict.org/d:bash:foldoc
</code></pre></div><h3 id="为curl设置代理"><a href="#为curl设置代理" class="header-anchor">#</a> <a href="#%E4%B8%BAcurl%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86">#</a> 为CURL设置代理</h3> <p>-x 选项可以为CURL添加代理功能</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token comment"># 指定代理主机和端口</span>
<span class="token number">2</span> <span class="token function">curl</span> <span class="token parameter variable">-x</span> proxysever.test.com:3128 http://google.co.in
</code></pre></div><h3 id="保存与使用网站cookie信息"><a href="#保存与使用网站cookie信息" class="header-anchor">#</a> <a href="#%E4%BF%9D%E5%AD%98%E4%B8%8E%E4%BD%BF%E7%94%A8%E7%BD%91%E7%AB%99cookie%E4%BF%A1%E6%81%AF">#</a> 保存与使用网站cookie信息</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token comment"># 将网站的cookies信息保存到sugarcookies文件中</span>
<span class="token number">2</span> <span class="token function">curl</span> <span class="token parameter variable">-D</span> sugarcookies http://localhost/sugarcrm/index.php
<span class="token number">3</span> 
<span class="token number">4</span> <span class="token comment"># 使用上次保存的cookie信息</span>
<span class="token number">5</span> <span class="token function">curl</span> <span class="token parameter variable">-b</span> sugarcookies http://localhost/sugarcrm/index.php
</code></pre></div><h3 id="传递请求数据"><a href="#传递请求数据" class="header-anchor">#</a> <a href="#%E4%BC%A0%E9%80%92%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE">#</a> 传递请求数据</h3> <p>默认curl使用GET方式请求数据，这种方式下直接通过URL传递数据 可以通过 --data/-d 方式指定使用POST方式传递数据</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token comment"># GET</span>
<span class="token number">2</span> <span class="token function">curl</span> <span class="token parameter variable">-u</span> username https://api.github.com/user?access_token<span class="token operator">=</span>XXXXXXXXXX
<span class="token number">3</span> 
<span class="token number">4</span> <span class="token comment"># POST</span>
<span class="token number">5</span> <span class="token function">curl</span> <span class="token parameter variable">-u</span> username <span class="token parameter variable">--data</span> <span class="token string">&quot;param1=value1&amp;param2=value&quot;</span> https://api.github.com
<span class="token number">6</span> 
<span class="token number">7</span> <span class="token comment"># 也可以指定一个文件，将该文件中的内容当作数据传递给服务器端</span>
<span class="token number">8</span> <span class="token function">curl</span> <span class="token parameter variable">--data</span> @filename https://github.api.com/authorizations
</code></pre></div><p>注: 默认情况下，通过POST方式传递过去的数据中若有特殊字符，首先需要将特殊字符转义在传递给服务器端，如value值中包含有空格，则需要先将空格转换成%20，如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token function">curl</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;value%201&quot;</span> http://hostname.com
</code></pre></div><p>在新版本的CURL中，提供了新的选项 --data-urlencode，通过该选项提供的参数会自动转义特殊字符。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token function">curl</span> --data-urlencode <span class="token string">&quot;value 1&quot;</span> http://hostname.com
</code></pre></div><p>除了使用GET和POST协议外，还可以通过 -X 选项指定其它协议，如:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token function">curl</span> <span class="token parameter variable">-I</span> <span class="token parameter variable">-X</span> DELETE https://api.github.cim
</code></pre></div><h3 id="上传文件"><a href="#上传文件" class="header-anchor">#</a> <a href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6">#</a> 上传文件</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span> <span class="token function">curl</span> <span class="token parameter variable">--form</span> <span class="token string">&quot;fileupload=@filename.txt&quot;</span> http://hostname/resource
</code></pre></div><h2 id="参考"><a href="#参考" class="header-anchor">#</a> <a href="#%E5%8F%82%E8%80%83">#</a> 参考</h2> <ul><li>http://www.thegeekstuff.com/2012/04/curl-examples/</li> <li>http://www.cnblogs.com/gbyukg/p/3326825.html</li></ul> <hr> <p>著作权归@pdai所有 原文链接：https://pdai.tech/md/devops/linux/linux-curl.html</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/部署与工具/Linux相关/05 内存分析工具pmap.html" class="prev">
        内存分析工具pmap
      </a></span> <span class="next"><a href="/blog/部署与工具/Linux相关/07 Linux创建自建服务.html">
        Linux创建自建服务
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ba0a3011.js" defer></script><script src="/blog/assets/js/4.a5b48594.js" defer></script><script src="/blog/assets/js/59.396cafd6.js" defer></script>
  </body>
</html>
