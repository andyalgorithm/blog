<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker基础 - Docker网络使用和配置 | Java 全栈知识体系</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/blog/images/favorite.ico">
    <meta name="description" content="对我妻子的爱是让我不断前进的动力，使我的人生少了一份恐惧，多了一份勇气。愿[执子之手, 与子偕老  To: LQ] ">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6822ba10.css" as="style"><link rel="preload" href="/blog/assets/js/app.ba0a3011.js" as="script"><link rel="preload" href="/blog/assets/js/4.a5b48594.js" as="script"><link rel="preload" href="/blog/assets/js/16.9635a830.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.911987ed.js"><link rel="prefetch" href="/blog/assets/js/11.8c13b615.js"><link rel="prefetch" href="/blog/assets/js/12.b17d390e.js"><link rel="prefetch" href="/blog/assets/js/13.7109526b.js"><link rel="prefetch" href="/blog/assets/js/14.e4ce975e.js"><link rel="prefetch" href="/blog/assets/js/15.da7d650d.js"><link rel="prefetch" href="/blog/assets/js/17.7d32a3b3.js"><link rel="prefetch" href="/blog/assets/js/18.fdb5b421.js"><link rel="prefetch" href="/blog/assets/js/19.420c5e02.js"><link rel="prefetch" href="/blog/assets/js/2.3871e21e.js"><link rel="prefetch" href="/blog/assets/js/20.39a01f59.js"><link rel="prefetch" href="/blog/assets/js/21.4db56d7a.js"><link rel="prefetch" href="/blog/assets/js/22.a662eef6.js"><link rel="prefetch" href="/blog/assets/js/23.732a383c.js"><link rel="prefetch" href="/blog/assets/js/24.ec41e443.js"><link rel="prefetch" href="/blog/assets/js/25.860071a5.js"><link rel="prefetch" href="/blog/assets/js/26.8c4d2716.js"><link rel="prefetch" href="/blog/assets/js/27.11da77fc.js"><link rel="prefetch" href="/blog/assets/js/28.b487366d.js"><link rel="prefetch" href="/blog/assets/js/29.1803ef74.js"><link rel="prefetch" href="/blog/assets/js/3.51bdab14.js"><link rel="prefetch" href="/blog/assets/js/30.d02fbbe4.js"><link rel="prefetch" href="/blog/assets/js/31.56444d1d.js"><link rel="prefetch" href="/blog/assets/js/32.2a36d03a.js"><link rel="prefetch" href="/blog/assets/js/33.3725c3e0.js"><link rel="prefetch" href="/blog/assets/js/34.5f4e3aa4.js"><link rel="prefetch" href="/blog/assets/js/35.ef73c3f8.js"><link rel="prefetch" href="/blog/assets/js/36.fe990cea.js"><link rel="prefetch" href="/blog/assets/js/37.47682786.js"><link rel="prefetch" href="/blog/assets/js/38.baebdf75.js"><link rel="prefetch" href="/blog/assets/js/39.00ea206a.js"><link rel="prefetch" href="/blog/assets/js/40.23ec2501.js"><link rel="prefetch" href="/blog/assets/js/41.2daf7c45.js"><link rel="prefetch" href="/blog/assets/js/42.c6d1131e.js"><link rel="prefetch" href="/blog/assets/js/43.c9d5a03a.js"><link rel="prefetch" href="/blog/assets/js/44.cdc6a286.js"><link rel="prefetch" href="/blog/assets/js/45.902028e9.js"><link rel="prefetch" href="/blog/assets/js/46.553ccd2d.js"><link rel="prefetch" href="/blog/assets/js/47.f3680de2.js"><link rel="prefetch" href="/blog/assets/js/48.b3656314.js"><link rel="prefetch" href="/blog/assets/js/49.9e76608b.js"><link rel="prefetch" href="/blog/assets/js/5.a5abfe4e.js"><link rel="prefetch" href="/blog/assets/js/50.0cda1225.js"><link rel="prefetch" href="/blog/assets/js/51.84ebc08f.js"><link rel="prefetch" href="/blog/assets/js/52.943ab0ec.js"><link rel="prefetch" href="/blog/assets/js/53.81a3ff5a.js"><link rel="prefetch" href="/blog/assets/js/54.68037e26.js"><link rel="prefetch" href="/blog/assets/js/55.8ed30271.js"><link rel="prefetch" href="/blog/assets/js/56.ed07b1e0.js"><link rel="prefetch" href="/blog/assets/js/57.6b65606f.js"><link rel="prefetch" href="/blog/assets/js/58.396c2826.js"><link rel="prefetch" href="/blog/assets/js/59.396cafd6.js"><link rel="prefetch" href="/blog/assets/js/6.896d3ff4.js"><link rel="prefetch" href="/blog/assets/js/60.7468b775.js"><link rel="prefetch" href="/blog/assets/js/61.15e652da.js"><link rel="prefetch" href="/blog/assets/js/62.a3b62be1.js"><link rel="prefetch" href="/blog/assets/js/63.6341c331.js"><link rel="prefetch" href="/blog/assets/js/64.5ad96112.js"><link rel="prefetch" href="/blog/assets/js/65.c8815d96.js"><link rel="prefetch" href="/blog/assets/js/66.220d8298.js"><link rel="prefetch" href="/blog/assets/js/67.8f678d56.js"><link rel="prefetch" href="/blog/assets/js/68.86e3017e.js"><link rel="prefetch" href="/blog/assets/js/69.a732f6b2.js"><link rel="prefetch" href="/blog/assets/js/7.486b913b.js"><link rel="prefetch" href="/blog/assets/js/70.873d407a.js"><link rel="prefetch" href="/blog/assets/js/71.e40010a4.js"><link rel="prefetch" href="/blog/assets/js/72.aef34e7f.js"><link rel="prefetch" href="/blog/assets/js/73.34cb7bbc.js"><link rel="prefetch" href="/blog/assets/js/74.711ea49d.js"><link rel="prefetch" href="/blog/assets/js/75.1d427b3f.js"><link rel="prefetch" href="/blog/assets/js/8.3ff4efcd.js"><link rel="prefetch" href="/blog/assets/js/9.31831817.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6822ba10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/images/logo.png" alt="Java 全栈知识体系" class="logo"> <span class="site-name can-hide">Java 全栈知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="这是提示语" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="这是提示语" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">
  下拉1
</a></li><li class="dropdown-item"><!----> <a href="https://u1s1.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下拉2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="这是提示语" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="这是提示语" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">
  下拉1
</a></li><li class="dropdown-item"><!----> <a href="https://u1s1.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下拉2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/" class="sidebar-heading clickable router-link-active"><span>首页</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/全栈知识体系总览.html" class="sidebar-link">全栈知识体系总览</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/部署与工具" class="sidebar-heading clickable open"><span>部署与工具</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/工具和资源/" class="sidebar-heading clickable"><span>工具和资源</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/blog/部署与工具/常用开发工具详解" class="sidebar-heading clickable"><span>常用开发工具详解</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/部署与工具/常用开发工具详解/01 Git详解.html" class="sidebar-link">Git详解</a></li><li><a href="/blog/部署与工具/常用开发工具详解/02 Eclipse STS IDEA.html" class="sidebar-link">Eclipse STS IDEA</a></li><li><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html" class="sidebar-link">Maven项目构建</a></li><li><a href="/blog/部署与工具/常用开发工具详解/04 Maven私有仓库Nexus.html" class="sidebar-link">Maven私有仓库Nexus</a></li><li><a href="/blog/部署与工具/常用开发工具详解/05 Jenkins+Github.html" class="sidebar-link">Jenkins+Github</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/Linux相关/" class="sidebar-heading clickable"><span>Linux相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/Docker相关/" class="sidebar-heading clickable open"><span>Docker相关</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/部署与工具/Docker相关/01 Overview.html" class="sidebar-link">Overview</a></li><li><a href="/blog/部署与工具/Docker相关/02 Docker Vs 虚拟机.html" class="sidebar-link">Docker Vs 虚拟机</a></li><li><a href="/blog/部署与工具/Docker相关/03 入门基础和Helloworld.html" class="sidebar-link">入门基础和Helloworld</a></li><li><a href="/blog/部署与工具/Docker相关/04 仓库 镜像 容器详解.html" class="sidebar-link">仓库 镜像 容器详解</a></li><li><a href="/blog/部署与工具/Docker相关/05 一个web应用实例.html" class="sidebar-link">一个web应用实例</a></li><li><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html" class="active sidebar-link">Docker网络使用和配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#单机中docker网络" class="sidebar-link">[#](#单机中docker网络) 单机中docker网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#理解docker-默认网桥" class="sidebar-link">[#](#理解docker-默认网桥) 理解Docker 默认网桥</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#理解容器创建时的ip分配" class="sidebar-link">[#](#理解容器创建时的ip分配) 理解容器创建时的IP分配</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#理解容器和docker0的虚拟网卡的配对" class="sidebar-link">[#](#理解容器和docker0的虚拟网卡的配对) 理解容器和docker0的虚拟网卡的配对</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#多物理机之间互联" class="sidebar-link">[#](#多物理机之间互联) 多物理机之间互联</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#拓扑图" class="sidebar-link">[#](#拓扑图) 拓扑图</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/Docker相关/06 Docker网络使用和配置.html#ubuntu-示例" class="sidebar-link">[#](#ubuntu-示例) ubuntu 示例</a></li></ul></li></ul></li><li><a href="/blog/部署与工具/Docker相关/07 Docker数据卷和数据管理.html" class="sidebar-link">Docker数据卷和数据管理</a></li><li><a href="/blog/部署与工具/Docker相关/08 Dockerfile详解.html" class="sidebar-link">Dockerfile详解</a></li><li><a href="/blog/部署与工具/Docker相关/09 DockerCompose详解.html" class="sidebar-link">DockerCompose详解</a></li><li><a href="/blog/部署与工具/Docker相关/10 Docker底层实现.html" class="sidebar-link">Docker底层实现</a></li><li><a href="/blog/部署与工具/Docker相关/11 Docker安全相关.html" class="sidebar-link">Docker安全相关</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker基础-docker网络使用和配置"><a href="#docker基础-docker网络使用和配置" class="header-anchor">#</a> Docker基础 - Docker网络使用和配置</h1> <blockquote><p>上文已经向你介绍了，web容器创建和容器互联了，但是容器之间为什么可以直接通信？主机和容器之间为何可以通信？如何进行自定义的配置呢？所以这节就是我们要讲述的Docker网络。@pdai</p></blockquote> <ul><li>Docker基础 - Docker网络使用和配置
<ul><li>单机中docker网络
<ul><li><a href="#%E7%90%86%E8%A7%A3docker-%E9%BB%98%E8%AE%A4%E7%BD%91%E6%A1%A5">理解Docker 默认网桥</a></li> <li><a href="#%E7%90%86%E8%A7%A3%E5%AE%B9%E5%99%A8%E5%88%9B%E5%BB%BA%E6%97%B6%E7%9A%84ip%E5%88%86%E9%85%8D">理解容器创建时的IP分配</a></li> <li><a href="#%E7%90%86%E8%A7%A3%E5%AE%B9%E5%99%A8%E5%92%8Cdocker0%E7%9A%84%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1%E7%9A%84%E9%85%8D%E5%AF%B9">理解容器和docker0的虚拟网卡的配对</a></li></ul></li> <li>多物理机之间互联
<ul><li><a href="#%E6%8B%93%E6%89%91%E5%9B%BE">拓扑图</a></li> <li><a href="#ubuntu-%E7%A4%BA%E4%BE%8B">ubuntu 示例</a></li></ul></li></ul></li></ul> <h2 id="单机中docker网络"><a href="#单机中docker网络" class="header-anchor">#</a> <a href="#%E5%8D%95%E6%9C%BA%E4%B8%ADdocker%E7%BD%91%E7%BB%9C">#</a> 单机中docker网络</h2> <h3 id="理解docker-默认网桥"><a href="#理解docker-默认网桥" class="header-anchor">#</a> <a href="#%E7%90%86%E8%A7%A3docker-%E9%BB%98%E8%AE%A4%E7%BD%91%E6%A1%A5">#</a> 理解Docker 默认网桥</h3> <blockquote><p>为何上文的例子中，容器之间通过--link就可以相互通信，主机和容器之间也能通信？</p></blockquote> <p>在你安装Docker 服务默认会创建一个 docker0 网桥（其上有一个 docker0 内部接口），它在内核层连通了其他的物理或虚拟网卡，这就将所有容器和本地主机都放到同一个物理网络。</p> <p>我们可用 docker network ls 命令查看：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID          NAME                DRIVER              SCOPE
b8c5abdb0bec        bridge              bridge              <span class="token builtin class-name">local</span>
84e86bc93121        <span class="token function">host</span>                <span class="token function">host</span>                <span class="token builtin class-name">local</span>
8e521527a897        none                null                <span class="token builtin class-name">local</span>
</code></pre></div><p>Docker 安装时会自动在 host 上创建三个网络：none，host，和bridge。我们看下docker0 网桥：(brctl可以通过yum install bridge-utils安装)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># brctl show</span>
bridge name     bridge <span class="token function">id</span>               STP enabled     interfaces
docker0         <span class="token number">8000</span>.0242703f9d02       no              veth0004826
                                                        veth4ad3278
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: eth0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="token number">1000</span>
    link/ether 00:16:3e:08:c1:ea brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.31</span>.165.194/20 brd <span class="token number">172.31</span>.175.255 scope global dynamic eth0
       valid_lft 310072401sec preferred_lft 310072401sec
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default
    link/ether 02:42:70:3f:9d:02 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.0.1/16 brd <span class="token number">172.17</span>.255.255 scope global docker0
       valid_lft forever preferred_lft forever
<span class="token number">45</span>: veth4ad3278@if44: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP group default
    link/ether c2:77:e4:ea:f1:33 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">0</span>
<span class="token number">49</span>: veth0004826@if48: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP group default
    link/ether 6e:c9:1a:7c:18:b1 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">1</span>

<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ip route</span>
default via <span class="token number">172.31</span>.175.253 dev eth0
<span class="token number">169.254</span>.0.0/16 dev eth0 scope <span class="token function">link</span> metric <span class="token number">1002</span>
<span class="token number">172.17</span>.0.0/16 dev docker0 proto kernel scope <span class="token function">link</span> src <span class="token number">172.17</span>.0.1
<span class="token number">172.31</span>.160.0/20 dev eth0 proto kernel scope <span class="token function">link</span> src <span class="token number">172.31</span>.165.194
</code></pre></div><p>再用docker network inspect指令查看bridge网络：其Gateway就是网卡/接口docker0的IP地址：172.17.0.1。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker network inspect bridge</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;b8c5abdb0becacfa1bfa1d72e2e663fb0157b62a9b8bee37e2607211722713cc&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-02-17T14:10:10.424119543+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;1cbc9aeba2a8a826d460ecb49de17ddf8ac336e150c752a3c762fd38a3e15254&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;web&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;adb47ed0c60c6b80a442c71a5f35d63378cecca9598e0cef8409a6719552f4c2&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:11:00:03&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.3/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;d992e3c761e00649eb436b88c737adc54093b76119af0fb7878596b523f743ca&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;db&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;6a3dab5c545dd26e0ca6e36d928a32fd0a6197c8dbf4eeb718a4560e219575ed&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:11:00:02&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.2/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;com.docker.network.bridge.default_bridge&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.enable_icc&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.enable_ip_masquerade&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.host_binding_ipv4&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.0.0.0&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;docker0&quot;</span>,
            <span class="token string">&quot;com.docker.network.driver.mtu&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1500&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>从上面你可以看到bridge的配置信息和容器信息。</p> <h3 id="理解容器创建时的ip分配"><a href="#理解容器创建时的ip分配" class="header-anchor">#</a> <a href="#%E7%90%86%E8%A7%A3%E5%AE%B9%E5%99%A8%E5%88%9B%E5%BB%BA%E6%97%B6%E7%9A%84ip%E5%88%86%E9%85%8D">#</a> 理解容器创建时的IP分配</h3> <blockquote><p>为了理解容器创建时的IP分配，这里需要清理所有已经启动的环境，然后再启动容器，看前后对比</p></blockquote> <ul><li>我们<strong>清理所有容器</strong>实例，下面展示的就是docker安装之后的, 注意和上面的对比下：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID          NAME                DRIVER              SCOPE
b8c5abdb0bec        bridge              bridge              <span class="token builtin class-name">local</span>
84e86bc93121        <span class="token function">host</span>                <span class="token function">host</span>                <span class="token builtin class-name">local</span>
8e521527a897        none                null                <span class="token builtin class-name">local</span>
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker network inspect bridge</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;b8c5abdb0becacfa1bfa1d72e2e663fb0157b62a9b8bee37e2607211722713cc&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-02-17T14:10:10.424119543+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;com.docker.network.bridge.default_bridge&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.enable_icc&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.enable_ip_masquerade&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.host_binding_ipv4&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.0.0.0&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;docker0&quot;</span>,
            <span class="token string">&quot;com.docker.network.driver.mtu&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1500&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: eth0: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="token number">1000</span>
    link/ether 00:16:3e:08:c1:ea brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.31</span>.165.194/20 brd <span class="token number">172.31</span>.175.255 scope global dynamic eth0
       valid_lft 310069965sec preferred_lft 310069965sec
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state DOWN group default
    link/ether 02:42:70:3f:9d:02 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.0.1/16 brd <span class="token number">172.17</span>.255.255 scope global docker0
       valid_lft forever preferred_lft forever
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># brctl show</span>
bridge name     bridge <span class="token function">id</span>               STP enabled     interfaces
docker0         <span class="token number">8000</span>.0242703f9d02       no
</code></pre></div><ul><li><strong>创建容器</strong></li></ul> <p>Docker 在创建一个容器的时候，会执行如下操作：</p> <ul><li>创建一对虚拟接口/网卡，也就是veth pair，分别放到本地主机和新容器中；</li> <li>本地主机一端桥接到默认的 docker0 或指定网桥上，并具有一个唯一的名字，如 vethxxxxx；</li> <li>容器一端放到新容器中，并修改名字作为 eth0，这个网卡/接口只在容器的名字空间可见；</li> <li>从网桥可用地址段中（也就是与该bridge对应的network）获取一个空闲地址分配给容器的 eth0，并配置默认路由到桥接网卡 vethxxxx。</li></ul> <p>让我们启动一个容器，看下变化：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker run -d --name db training/postgres</span>
0ffd1092cd962bdbe335ce042b93d0f2082559600cacc82bbef40b8b66395e57
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># brctl show</span>
bridge name     bridge <span class="token function">id</span>               STP enabled     interfaces
docker0         <span class="token number">8000</span>.0242703f9d02       no              vethd93e2ad
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ip a | grep vethd93e2ad</span>
<span class="token number">51</span>: vethd93e2ad@if50: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP group default
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker network inspect bridge</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;b8c5abdb0becacfa1bfa1d72e2e663fb0157b62a9b8bee37e2607211722713cc&quot;</span>,
        <span class="token string">&quot;Created&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-02-17T14:10:10.424119543+08:00&quot;</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bridge&quot;</span>,
        <span class="token string">&quot;EnableIPv6&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;IPAM&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;default&quot;</span>,
            <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> null,
            <span class="token string">&quot;Config&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;Subnet&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.0/16&quot;</span>,
                    <span class="token string">&quot;Gateway&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.1&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Internal&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Attachable&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Ingress&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;ConfigFrom&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;ConfigOnly&quot;</span><span class="token builtin class-name">:</span> false,
        <span class="token string">&quot;Containers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;0ffd1092cd962bdbe335ce042b93d0f2082559600cacc82bbef40b8b66395e57&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;db&quot;</span>,
                <span class="token string">&quot;EndpointID&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;a90cb50031effc99b9254fe4f1231bfbac8c4bb23d94c5a1425c1e116ac452dc&quot;</span>,
                <span class="token string">&quot;MacAddress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;02:42:ac:11:00:02&quot;</span>,
                <span class="token string">&quot;IPv4Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;172.17.0.2/16&quot;</span>,
                <span class="token string">&quot;IPv6Address&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;com.docker.network.bridge.default_bridge&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.enable_icc&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.enable_ip_masquerade&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;true&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.host_binding_ipv4&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.0.0.0&quot;</span>,
            <span class="token string">&quot;com.docker.network.bridge.name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;docker0&quot;</span>,
            <span class="token string">&quot;com.docker.network.driver.mtu&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;1500&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>如果不指定--network，创建的容器默认都会挂到 docker0 上，使用本地主机上 docker0 接口的 IP 作为所有容器的默认网关</p> <p>当有多个容器创建后，容器网络拓扑结构如下：</p> <p><img src="data:image/jpeg;base64,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" alt="img"></p> <h3 id="理解容器和docker0的虚拟网卡的配对"><a href="#理解容器和docker0的虚拟网卡的配对" class="header-anchor">#</a> <a href="#%E7%90%86%E8%A7%A3%E5%AE%B9%E5%99%A8%E5%92%8Cdocker0%E7%9A%84%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1%E7%9A%84%E9%85%8D%E5%AF%B9">#</a> 理解容器和docker0的虚拟网卡的配对</h3> <blockquote><p>在上图中容器中eth0是怎么和host中虚拟网卡配对上的呢？</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES
0ffd1092cd96        training/postgres   <span class="token string">&quot;su postgres -c '/us…&quot;</span>   <span class="token number">11</span> minutes ago      Up <span class="token number">11</span> minutes       <span class="token number">5432</span>/tcp            db
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it 0ffd1092cd96 /bin/bash</span>
root@0ffd1092cd96:/<span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">50</span>: eth0@if51: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default
    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.0.2/16 brd <span class="token number">172.17</span>.255.255 scope global eth0
       valid_lft forever preferred_lft forever
</code></pre></div><p>我们可以看到host上<code>51: vethd93e2ad@if50</code>对应着容器中<code>50: eth0@if51</code>; 即host中index=51的接口/网卡vethd93e2ad的peer inferface index是50, container中index=50的网卡eth0的peer interface index是51。</p> <p>可以利用ethtool来确认这种对应关系：分别在host和container中运行指令<code>ethtool -S &lt;interface&gt;</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># ethtool -S vethd93e2ad</span>
NIC statistics:
     peer_ifindex: <span class="token number">50</span>
<span class="token punctuation">[</span>root@pdai ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it 0ffd1092cd96 /bin/bash</span>
root@0ffd1092cd96:/<span class="token comment"># ip a | grep 50</span>
<span class="token number">50</span>: eth0@if51: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default
root@0ffd1092cd96:/<span class="token comment">#</span>
</code></pre></div><h2 id="多物理机之间互联"><a href="#多物理机之间互联" class="header-anchor">#</a> <a href="#%E5%A4%9A%E7%89%A9%E7%90%86%E6%9C%BA%E4%B9%8B%E9%97%B4%E4%BA%92%E8%81%94">#</a> 多物理机之间互联</h2> <blockquote><p>如果在企业内部应用，或者做多个物理主机的集群，可能需要将多个物理主机的容器组到一个物理网络中来，那么就需要将这个网桥桥接到我们指定的网卡上。</p></blockquote> <h3 id="拓扑图"><a href="#拓扑图" class="header-anchor">#</a> <a href="#%E6%8B%93%E6%89%91%E5%9B%BE">#</a> 拓扑图</h3> <p>主机 A 和主机 B 的网卡一都连着物理交换机的同一个 vlan 101,这样网桥一和网桥三就相当于在同一个物理网络中了，而容器一、容器三、容器四也在同一物理网络中了，他们之间可以相互通信，而且可以跟同一 vlan 中的其他物理机器互联。</p> <p><img src="/blog/assets/img/docker-y-6.163457a7.png" alt="img"></p> <h3 id="ubuntu-示例"><a href="#ubuntu-示例" class="header-anchor">#</a> <a href="#ubuntu-%E7%A4%BA%E4%BE%8B">#</a> ubuntu 示例</h3> <p>下面以 ubuntu 为例创建多个主机的容器联网: 创建自己的网桥,编辑 /etc/network/interface 文件</p> <div class="language-bash extra-class"><pre class="language-bash"><code>auto br0
iface br0 inet static
address <span class="token number">192.168</span>.7.31
netmask <span class="token number">255.255</span>.240.0
gateway <span class="token number">192.168</span>.7.254
bridge_ports em1
bridge_stp off
dns-nameservers <span class="token number">8.8</span>.8.8 <span class="token number">192.168</span>.6.1
</code></pre></div><p>将 Docker 的默认网桥绑定到这个新建的 br0 上面，这样就将这台机器上容器绑定到 em1 这个网卡所对应的物理网络上了。</p> <p>ubuntu 修改 /etc/default/docker 文件，添加最后一行内容</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Docker Upstart and SysVinit configuration file</span>
<span class="token comment"># Customize location of Docker binary (especially for development testing).</span>
<span class="token comment">#DOCKER=&quot;/usr/local/bin/docker&quot;</span>
<span class="token comment"># Use DOCKER_OPTS to modify the daemon startup options.</span>
<span class="token comment">#DOCKER_OPTS=&quot;--dns 8.8.8.8 --dns 8.8.4.4&quot;</span>

<span class="token comment"># If you need Docker to use an HTTP proxy, it can also be specified here.</span>
<span class="token comment">#export http_proxy=&quot;http://127.0.0.1:3128/&quot;</span>

<span class="token comment"># This is also a handy place to tweak where Docker's temporary files go.</span>
<span class="token comment">#export TMPDIR=&quot;/mnt/bigdrive/docker-tmp&quot;</span>

<span class="token assign-left variable">DOCKER_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-b=br0&quot;</span>
</code></pre></div><p>在启动 Docker 的时候 使用 -b 参数 将容器绑定到物理网络上。重启 Docker 服务后，再进入容器可以看到它已经绑定到你的物理网络上了。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>root@pdai:~<span class="token comment"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                        NAMES
58b043aa05eb        desk_hz:v1          <span class="token string">&quot;/startup.sh&quot;</span>       <span class="token number">5</span> days ago          Up <span class="token number">2</span> seconds        <span class="token number">5900</span>/tcp, <span class="token number">6080</span>/tcp, <span class="token number">22</span>/tcp   yanlx
root@pdai:~<span class="token comment"># brctl show</span>
bridge name     bridge <span class="token function">id</span>               STP enabled     interfaces
br0             <span class="token number">8000</span>.7e6e617c8d53       no              em1
                                            vethe6e5
</code></pre></div><p>这样就直接把容器暴露到物理网络上了，多台物理主机的容器也可以相互联网了。需要注意的是，这样就需要自己来保证容器的网络安全了。</p> <p>具体步骤，还可以看下这篇文章：<a href="https://blog.csdn.net/gavinkelland/article/details/77976815" target="_blank" rel="noopener noreferrer">CentOS Docker跨宿主机通讯Open vSwitch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <p>著作权归@pdai所有 原文链接：https://pdai.tech/md/devops/docker/docker-07-network.html</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/部署与工具/Docker相关/05 一个web应用实例.html" class="prev">
        一个web应用实例
      </a></span> <span class="next"><a href="/blog/部署与工具/Docker相关/07 Docker数据卷和数据管理.html">
        Docker数据卷和数据管理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ba0a3011.js" defer></script><script src="/blog/assets/js/4.a5b48594.js" defer></script><script src="/blog/assets/js/16.9635a830.js" defer></script>
  </body>
</html>
