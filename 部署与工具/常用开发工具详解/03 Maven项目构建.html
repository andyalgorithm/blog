<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>工具详解 - Maven项目构建 | Java 全栈知识体系</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/blog/images/favorite.ico">
    <meta name="description" content="对我妻子的爱是让我不断前进的动力，使我的人生少了一份恐惧，多了一份勇气。愿[执子之手, 与子偕老  To: LQ] ">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6822ba10.css" as="style"><link rel="preload" href="/blog/assets/js/app.ba0a3011.js" as="script"><link rel="preload" href="/blog/assets/js/4.a5b48594.js" as="script"><link rel="preload" href="/blog/assets/js/10.911987ed.js" as="script"><link rel="prefetch" href="/blog/assets/js/11.8c13b615.js"><link rel="prefetch" href="/blog/assets/js/12.b17d390e.js"><link rel="prefetch" href="/blog/assets/js/13.7109526b.js"><link rel="prefetch" href="/blog/assets/js/14.e4ce975e.js"><link rel="prefetch" href="/blog/assets/js/15.da7d650d.js"><link rel="prefetch" href="/blog/assets/js/16.9635a830.js"><link rel="prefetch" href="/blog/assets/js/17.7d32a3b3.js"><link rel="prefetch" href="/blog/assets/js/18.fdb5b421.js"><link rel="prefetch" href="/blog/assets/js/19.420c5e02.js"><link rel="prefetch" href="/blog/assets/js/2.3871e21e.js"><link rel="prefetch" href="/blog/assets/js/20.39a01f59.js"><link rel="prefetch" href="/blog/assets/js/21.4db56d7a.js"><link rel="prefetch" href="/blog/assets/js/22.a662eef6.js"><link rel="prefetch" href="/blog/assets/js/23.732a383c.js"><link rel="prefetch" href="/blog/assets/js/24.ec41e443.js"><link rel="prefetch" href="/blog/assets/js/25.860071a5.js"><link rel="prefetch" href="/blog/assets/js/26.8c4d2716.js"><link rel="prefetch" href="/blog/assets/js/27.11da77fc.js"><link rel="prefetch" href="/blog/assets/js/28.b487366d.js"><link rel="prefetch" href="/blog/assets/js/29.1803ef74.js"><link rel="prefetch" href="/blog/assets/js/3.51bdab14.js"><link rel="prefetch" href="/blog/assets/js/30.d02fbbe4.js"><link rel="prefetch" href="/blog/assets/js/31.56444d1d.js"><link rel="prefetch" href="/blog/assets/js/32.2a36d03a.js"><link rel="prefetch" href="/blog/assets/js/33.3725c3e0.js"><link rel="prefetch" href="/blog/assets/js/34.5f4e3aa4.js"><link rel="prefetch" href="/blog/assets/js/35.ef73c3f8.js"><link rel="prefetch" href="/blog/assets/js/36.fe990cea.js"><link rel="prefetch" href="/blog/assets/js/37.47682786.js"><link rel="prefetch" href="/blog/assets/js/38.baebdf75.js"><link rel="prefetch" href="/blog/assets/js/39.00ea206a.js"><link rel="prefetch" href="/blog/assets/js/40.23ec2501.js"><link rel="prefetch" href="/blog/assets/js/41.2daf7c45.js"><link rel="prefetch" href="/blog/assets/js/42.c6d1131e.js"><link rel="prefetch" href="/blog/assets/js/43.c9d5a03a.js"><link rel="prefetch" href="/blog/assets/js/44.cdc6a286.js"><link rel="prefetch" href="/blog/assets/js/45.902028e9.js"><link rel="prefetch" href="/blog/assets/js/46.553ccd2d.js"><link rel="prefetch" href="/blog/assets/js/47.f3680de2.js"><link rel="prefetch" href="/blog/assets/js/48.b3656314.js"><link rel="prefetch" href="/blog/assets/js/49.9e76608b.js"><link rel="prefetch" href="/blog/assets/js/5.a5abfe4e.js"><link rel="prefetch" href="/blog/assets/js/50.0cda1225.js"><link rel="prefetch" href="/blog/assets/js/51.84ebc08f.js"><link rel="prefetch" href="/blog/assets/js/52.943ab0ec.js"><link rel="prefetch" href="/blog/assets/js/53.81a3ff5a.js"><link rel="prefetch" href="/blog/assets/js/54.68037e26.js"><link rel="prefetch" href="/blog/assets/js/55.8ed30271.js"><link rel="prefetch" href="/blog/assets/js/56.ed07b1e0.js"><link rel="prefetch" href="/blog/assets/js/57.6b65606f.js"><link rel="prefetch" href="/blog/assets/js/58.396c2826.js"><link rel="prefetch" href="/blog/assets/js/59.396cafd6.js"><link rel="prefetch" href="/blog/assets/js/6.896d3ff4.js"><link rel="prefetch" href="/blog/assets/js/60.7468b775.js"><link rel="prefetch" href="/blog/assets/js/61.15e652da.js"><link rel="prefetch" href="/blog/assets/js/62.a3b62be1.js"><link rel="prefetch" href="/blog/assets/js/63.6341c331.js"><link rel="prefetch" href="/blog/assets/js/64.5ad96112.js"><link rel="prefetch" href="/blog/assets/js/65.c8815d96.js"><link rel="prefetch" href="/blog/assets/js/66.220d8298.js"><link rel="prefetch" href="/blog/assets/js/67.8f678d56.js"><link rel="prefetch" href="/blog/assets/js/68.86e3017e.js"><link rel="prefetch" href="/blog/assets/js/69.a732f6b2.js"><link rel="prefetch" href="/blog/assets/js/7.486b913b.js"><link rel="prefetch" href="/blog/assets/js/70.873d407a.js"><link rel="prefetch" href="/blog/assets/js/71.e40010a4.js"><link rel="prefetch" href="/blog/assets/js/72.aef34e7f.js"><link rel="prefetch" href="/blog/assets/js/73.34cb7bbc.js"><link rel="prefetch" href="/blog/assets/js/74.711ea49d.js"><link rel="prefetch" href="/blog/assets/js/75.1d427b3f.js"><link rel="prefetch" href="/blog/assets/js/8.3ff4efcd.js"><link rel="prefetch" href="/blog/assets/js/9.31831817.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6822ba10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/images/logo.png" alt="Java 全栈知识体系" class="logo"> <span class="site-name can-hide">Java 全栈知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="这是提示语" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="这是提示语" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">
  下拉1
</a></li><li class="dropdown-item"><!----> <a href="https://u1s1.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下拉2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="这是提示语" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="这是提示语" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">
  下拉1
</a></li><li class="dropdown-item"><!----> <a href="https://u1s1.vip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  下拉2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/" class="sidebar-heading clickable router-link-active"><span>首页</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/全栈知识体系总览.html" class="sidebar-link">全栈知识体系总览</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/部署与工具" class="sidebar-heading clickable open"><span>部署与工具</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/工具和资源/" class="sidebar-heading clickable"><span>工具和资源</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/blog/部署与工具/常用开发工具详解" class="sidebar-heading clickable open"><span>常用开发工具详解</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/部署与工具/常用开发工具详解/01 Git详解.html" class="sidebar-link">Git详解</a></li><li><a href="/blog/部署与工具/常用开发工具详解/02 Eclipse STS IDEA.html" class="sidebar-link">Eclipse STS IDEA</a></li><li><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html" class="active sidebar-link">Maven项目构建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#目录结构" class="sidebar-link">[#](#目录结构) 目录结构</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#如何修改默认的目录配置" class="sidebar-link">[#](#如何修改默认的目录配置) 如何修改默认的目录配置</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#依赖原则" class="sidebar-link">[#](#依赖原则) 依赖原则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#依赖路径最短优先原则" class="sidebar-link">[#](#依赖路径最短优先原则) 依赖路径最短优先原则</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#声明顺序优先原则" class="sidebar-link">[#](#声明顺序优先原则) 声明顺序优先原则</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#覆写优先原则" class="sidebar-link">[#](#覆写优先原则) 覆写优先原则</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#解决依赖冲突" class="sidebar-link">[#](#解决依赖冲突) 解决依赖冲突</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#maven对项目生命周期的抽象-三大项目生命周期" class="sidebar-link">[#](#maven对项目生命周期的抽象-三大项目生命周期) Maven对项目生命周期的抽象--三大项目生命周期</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#maven对项目默认生命周期的抽象" class="sidebar-link">[#](#maven对项目默认生命周期的抽象) maven对项目默认生命周期的抽象</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#maven各生命阶段行为绑定" class="sidebar-link">[#](#maven各生命阶段行为绑定) Maven各生命阶段行为绑定</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#如何查看maven各个生命周期阶段和插件的绑定情况" class="sidebar-link">[#](#如何查看maven各个生命周期阶段和插件的绑定情况) 如何查看maven各个生命周期阶段和插件的绑定情况</a></li><li class="sidebar-sub-header"><a href="/blog/部署与工具/常用开发工具详解/03 Maven项目构建.html#项目中run-package命令" class="sidebar-link">[#](#项目中run-package命令) 项目中Run Package命令</a></li></ul></li><li><a href="/blog/部署与工具/常用开发工具详解/04 Maven私有仓库Nexus.html" class="sidebar-link">Maven私有仓库Nexus</a></li><li><a href="/blog/部署与工具/常用开发工具详解/05 Jenkins+Github.html" class="sidebar-link">Jenkins+Github</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/Linux相关/" class="sidebar-heading clickable"><span>Linux相关</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/部署与工具/Docker相关/" class="sidebar-heading clickable"><span>Docker相关</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="工具详解-maven项目构建"><a href="#工具详解-maven项目构建" class="header-anchor">#</a> 工具详解 - Maven项目构建</h1> <blockquote><p>在Java开发中，常用构建工具ant,maven和gradle, 其中maven相对主流；本文参考和总结自 http://blog.csdn.net/luanlouis/article/details/50492163, 对maven的理解看这一篇就够。@pDai</p></blockquote> <ul><li>工具详解 - Maven项目构建
<ul><li><a href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">目录结构</a></li> <li><a href="#%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9A%84%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE">如何修改默认的目录配置</a></li> <li>依赖原则
<ul><li><a href="#%E4%BE%9D%E8%B5%96%E8%B7%AF%E5%BE%84%E6%9C%80%E7%9F%AD%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99">依赖路径最短优先原则</a></li> <li><a href="#%E5%A3%B0%E6%98%8E%E9%A1%BA%E5%BA%8F%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99">声明顺序优先原则</a></li> <li><a href="#%E8%A6%86%E5%86%99%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99">覆写优先原则</a></li></ul></li> <li><a href="#%E8%A7%A3%E5%86%B3%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81">解决依赖冲突</a></li></ul></li> <li>Maven 项目生命周期与构建原理
<ul><li><a href="#maven%E5%AF%B9%E9%A1%B9%E7%9B%AE%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E6%8A%BD%E8%B1%A1--%E4%B8%89%E5%A4%A7%E9%A1%B9%E7%9B%AE%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">Maven对项目生命周期的抽象--三大项目生命周期</a></li> <li><a href="#maven%E5%AF%B9%E9%A1%B9%E7%9B%AE%E9%BB%98%E8%AE%A4%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E6%8A%BD%E8%B1%A1">maven对项目默认生命周期的抽象</a></li> <li><a href="#maven%E5%90%84%E7%94%9F%E5%91%BD%E9%98%B6%E6%AE%B5%E8%A1%8C%E4%B8%BA%E7%BB%91%E5%AE%9A">Maven各生命阶段行为绑定</a></li> <li><a href="#%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8Bmaven%E5%90%84%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%98%B6%E6%AE%B5%E5%92%8C%E6%8F%92%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E6%83%85%E5%86%B5">如何查看maven各个生命周期阶段和插件的绑定情况</a></li> <li><a href="#%E9%A1%B9%E7%9B%AE%E4%B8%ADrun-package%E5%91%BD%E4%BB%A4">项目中Run Package命令</a></li></ul></li> <li><a href="#%E5%8F%82%E8%80%83">参考</a></li></ul> <h2 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> <a href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">#</a> 目录结构</h2> <blockquote><p>well,每个项目工程，都有非常繁琐的目录结构，每个目录都有不同的作用。请记住这一点，目录的划分是根据需要来的，每个目录有其特定的功能。目录本质上就是一个文件或文件夹路径而已。那么，我们换一个思路考虑: 一个项目的文件结构需要组织什么信息呢?</p></blockquote> <p>让我们来看一下功能的划分:</p> <p><img src="/blog/assets/img/maven_0.9aea6f7c.jpg" alt="img"></p> <h2 id="如何修改默认的目录配置"><a href="#如何修改默认的目录配置" class="header-anchor">#</a> <a href="#%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9A%84%E7%9B%AE%E5%BD%95%E9%85%8D%E7%BD%AE">#</a> 如何修改默认的目录配置</h2> <p>在maven项目工程对应project的 pom.xml中，在<code>&lt;project&gt;--&gt;&lt;build&gt;</code>节点下，你可以指定自己的目录路径信息:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>  
    <span class="token comment">&lt;!-- 目录信息维护,用户可以指定自己的目录路径 --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sourceDirectory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\src\main\java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sourceDirectory</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scriptSourceDirectory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\src\main\scripts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scriptSourceDirectory</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>testSourceDirectory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\src\test\java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>testSourceDirectory</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>outputDirectory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\target\classes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>outputDirectory</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>testOutputDirectory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\target\test-classes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>testOutputDirectory</span><span class="token punctuation">&gt;</span></span>  
  
    <span class="token comment">&lt;!-- 注意，对resource而言，可以有很多个resource路径的配置，你只需要指定对应的路径是resource即可 --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\src\main\resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>  
  
    <span class="token comment">&lt;!-- 注意，对resource而言，可以有很多个resource路径的配置，你只需要指定对应的路径是resource即可 --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>testResources</span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>testResource</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\src\test\resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>  
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>testResource</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>testResources</span><span class="token punctuation">&gt;</span></span>  
  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>E:\intellis\maven-principle\phase-echo\target<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>  
   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="依赖原则"><a href="#依赖原则" class="header-anchor">#</a> <a href="#%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99">#</a> 依赖原则</h2> <h3 id="依赖路径最短优先原则"><a href="#依赖路径最短优先原则" class="header-anchor">#</a> <a href="#%E4%BE%9D%E8%B5%96%E8%B7%AF%E5%BE%84%E6%9C%80%E7%9F%AD%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99">#</a> 依赖路径最短优先原则</h3> <div class="language-html extra-class"><pre class="language-html"><code>A -&gt; B -&gt; C -&gt; X(1.0)
A -&gt; D -&gt; X(2.0)
</code></pre></div><p>由于 X(2.0) 路径最短，所以使用 X(2.0)。</p> <h3 id="声明顺序优先原则"><a href="#声明顺序优先原则" class="header-anchor">#</a> <a href="#%E5%A3%B0%E6%98%8E%E9%A1%BA%E5%BA%8F%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99">#</a> 声明顺序优先原则</h3> <div class="language-html extra-class"><pre class="language-html"><code>A -&gt; B -&gt; X(1.0)
A -&gt; C -&gt; X(2.0)
</code></pre></div><p>在 POM 中最先声明的优先，上面的两个依赖如果先声明 B，那么最后使用 X(1.0)。</p> <h3 id="覆写优先原则"><a href="#覆写优先原则" class="header-anchor">#</a> <a href="#%E8%A6%86%E5%86%99%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99">#</a> 覆写优先原则</h3> <p>子 POM 内声明的依赖优先于父 POM 中声明的依赖。</p> <h2 id="解决依赖冲突"><a href="#解决依赖冲突" class="header-anchor">#</a> <a href="#%E8%A7%A3%E5%86%B3%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81">#</a> 解决依赖冲突</h2> <p>找到 Maven 加载的 Jar 包版本，使用 <code>mvn dependency:tree</code> 查看依赖树，根据依赖原则来调整依赖在 POM 文件的声明顺序。</p> <h1 id="maven-项目生命周期与构建原理"><a href="#maven-项目生命周期与构建原理" class="header-anchor">#</a> <a href="#maven-%E9%A1%B9%E7%9B%AE%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%8E%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86">#</a> Maven 项目生命周期与构建原理</h1> <h2 id="maven对项目生命周期的抽象-三大项目生命周期"><a href="#maven对项目生命周期的抽象-三大项目生命周期" class="header-anchor">#</a> <a href="#maven%E5%AF%B9%E9%A1%B9%E7%9B%AE%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E6%8A%BD%E8%B1%A1-%E4%B8%89%E5%A4%A7%E9%A1%B9%E7%9B%AE%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">#</a> Maven对项目生命周期的抽象--三大项目生命周期</h2> <blockquote><p>Maven从项目的三个不同的角度，定义了单套生命周期，三套生命周期是相互独立的，它们之间不会相互影响。</p></blockquote> <ul><li>默认构建生命周期(Default Lifeclyle): 该生命周期表示这项目的构建过程，定义了一个项目的构建要经过的不同的阶段。</li> <li>清理生命周期(Clean Lifecycle): 该生命周期负责清理项目中的多余信息，保持项目资源和代码的整洁性。一般拿来清空directory(即一般的target)目录下的文件。</li> <li>站点管理生命周期(Site Lifecycle) :向我们创建一个项目时，我们有时候需要提供一个站点，来介绍这个项目的信息，如项目介绍，项目进度状态、项目组成成员，版本控制信息，项目javadoc索引信息等等。站点管理生命周期定义了站点管理过程的各个阶段。</li></ul> <p><img src="/blog/assets/img/maven_1.384337be.jpg" alt="img"></p> <h2 id="maven对项目默认生命周期的抽象"><a href="#maven对项目默认生命周期的抽象" class="header-anchor">#</a> <a href="#maven%E5%AF%B9%E9%A1%B9%E7%9B%AE%E9%BB%98%E8%AE%A4%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E6%8A%BD%E8%B1%A1">#</a> maven对项目默认生命周期的抽象</h2> <p>Maven将其架构和结构的组织放置到了components.xml 配置文件中，该配置文件的路径是: apache-maven-version\lib\maven−core−{version}\lib\maven-core-version\lib\maven−core−{version}.jar\META-INFO\plexus\conponents.xml文件中。其中，我们可以看到关于default生命周期XML节点配置信息:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>role</span><span class="token punctuation">&gt;</span></span>org.apache.maven.lifecycle.Lifecycle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>role</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>implementation</span><span class="token punctuation">&gt;</span></span>org.apache.maven.lifecycle.Lifecycle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>implementation</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>role-hint</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>role-hint</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>  
  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>validate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>initialize<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-classes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-test-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-test-sources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>generate-test-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-test-resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>test-compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>process-test-classes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>prepare-package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>package<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>pre-integration-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>integration-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>post-integration-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>verify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>install<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>deploy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>  
  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><p>Maven根据一个项目的生命周期的每个阶段，将一个项目的生命周期抽象成了如上图所示的23个阶段。而每一个阶段应该干什么事情由用户决定。换句话说，maven为每一个阶段设计了接口，你可以为每一阶段自己定义一个接口，进而实现对应阶段应该有的行为。</p> <p><img src="/blog/assets/img/maven_2.071838dc.jpg" alt="img"></p> <p>在经历这些生命周期的阶段中，每个阶段会理论上会有相应的处理操作。但是，在实际的项目开发过程中， 并不是所有的生命周期阶段都是必须的。 基于类似的约定，maven默认地为一些不同类型的maven项目生命周期的阶段实现了默认的行为。</p> <p>Maven 在设计上将生命周期阶段的抽象和对应阶段应该执行的行为实现分离开，maven这些实现放到了插件中，这些插件本质上是实现了maven留在各个生命周期阶段的接口。 如下图所示，maven针对不同打包类型的maven项目的生命周期阶段绑定了对应的默认行为:</p> <p><img src="/blog/assets/img/maven_3.06543a36.jpg" alt="img"></p> <h2 id="maven各生命阶段行为绑定"><a href="#maven各生命阶段行为绑定" class="header-anchor">#</a> <a href="#maven%E5%90%84%E7%94%9F%E5%91%BD%E9%98%B6%E6%AE%B5%E8%A1%8C%E4%B8%BA%E7%BB%91%E5%AE%9A">#</a> Maven各生命阶段行为绑定</h2> <p>maven会根据Mojo功能的划分，将具有相似功能的Mojo放到一个插件中。并且某一个特定的Mojo能实现的功能称为 goal,即目标，表明该Mojo能实现什么目标。</p> <p><img src="/blog/assets/img/maven_4.0e1f0e62.jpg" alt="img"></p> <p>例如，我们项目生命周期有两个阶段: compile 和 test-compile,这两阶段都是需要将Java源代码编译成class文件中，相对应地，compile和test-compiler分别被绑定到了org.apache.maven.plugin.compiler.CompilerMojo 和org.apache.maven.plugin.compiler.TestCompilerMojo上:</p> <p><img src="/blog/assets/img/maven_5.a8d85c28.jpg" alt="img"></p> <h2 id="如何查看maven各个生命周期阶段和插件的绑定情况"><a href="#如何查看maven各个生命周期阶段和插件的绑定情况" class="header-anchor">#</a> <a href="#%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8Bmaven%E5%90%84%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%98%B6%E6%AE%B5%E5%92%8C%E6%8F%92%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E6%83%85%E5%86%B5">#</a> 如何查看maven各个生命周期阶段和插件的绑定情况</h2> <p>maven默认实现上，会为各个常用的生命周期根据约定绑定特定的插件目标。maven将这些配置放置到了: apache-maven-version\lib\maven−core−{version}\lib\maven-core-version\lib\maven−core−{version}.jar\META-INFO\plexus\default-binds.xml文件中，针对不同打包类型的项目，其默认绑定情况也会不一样，我们先看一下常用的jar包类型和war包类型的项目默认绑定情况:</p> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- jar包格式的项目生命周期各个阶段默认绑定情况 --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>role</span><span class="token punctuation">&gt;</span></span>org.apache.maven.lifecycle.mapping.LifecycleMapping<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>role</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>role-hint</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>role-hint</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>implementation</span><span class="token punctuation">&gt;</span></span>org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>implementation</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lifecycles</span><span class="token punctuation">&gt;</span></span>  
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lifecycle</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token comment">&lt;!-- START SNIPPET: jar-lifecycle --&gt;</span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token comment">&lt;!-- 插件绑定的格式:   &lt;plugin-groupid&gt;:&lt;plugin-artifactid&gt;:&lt;version&gt;:goal  --&gt;</span>   
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process-resources</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-resources-plugin:2.6:resources  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process-resources</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compile</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-compiler-plugin:3.1:compile  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compile</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process-test-resources</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-resources-plugin:2.6:testResources  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process-test-resources</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-compile</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-compile</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-jar-plugin:2.4:jar  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>install</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-install-plugin:2.4:install  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>install</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>deploy</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>deploy</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token comment">&lt;!-- END SNIPPET: jar-lifecycle --&gt;</span>  
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lifecycle</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lifecycles</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>  
      
    <span class="token comment">&lt;!-- war包格式的项目生命周期各个阶段默认绑定情况 --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>role</span><span class="token punctuation">&gt;</span></span>org.apache.maven.lifecycle.mapping.LifecycleMapping<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>role</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>role-hint</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>role-hint</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>implementation</span><span class="token punctuation">&gt;</span></span>org.apache.maven.lifecycle.mapping.DefaultLifecycleMapping<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>implementation</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lifecycles</span><span class="token punctuation">&gt;</span></span>  
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lifecycle</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token comment">&lt;!-- START SNIPPET: war-lifecycle --&gt;</span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phases</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process-resources</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-resources-plugin:2.6:resources  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process-resources</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compile</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-compiler-plugin:3.1:compile  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compile</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process-test-resources</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-resources-plugin:2.6:testResources  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process-test-resources</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-compile</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-compile</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-war-plugin:2.2:war  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>install</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-install-plugin:2.4:install  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>install</span><span class="token punctuation">&gt;</span></span>  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>deploy</span><span class="token punctuation">&gt;</span></span>  
                    org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy  
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>deploy</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phases</span><span class="token punctuation">&gt;</span></span>  
                    <span class="token comment">&lt;!-- END SNIPPET: war-lifecycle --&gt;</span>  
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lifecycle</span><span class="token punctuation">&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lifecycles</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>  
</code></pre></div><h2 id="项目中run-package命令"><a href="#项目中run-package命令" class="header-anchor">#</a> <a href="#%E9%A1%B9%E7%9B%AE%E4%B8%ADrun-package%E5%91%BD%E4%BB%A4">#</a> 项目中Run Package命令</h2> <p>加入Jacoo测试统计的插件, pre-test和post-test两个阶段:</p> <div class="language-xml extra-class"><pre class="language-xml"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.jacoco<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jacoco-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${jacoco.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>pre-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>prepare-agent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>post-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defaultGoal</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defaultGoal</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building cdc-common-config 1.0.1-RELEASE
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.7.201606060606:prepare-agent (pre-test) @ cdc-common-config ---
[INFO] argLine set to -javaagent:C:\\Users\\pdai\\.m2\\repository\\org\\jacoco\\org.jacoco.agent\\0.7.7.201606060606\\org.jacoco.agent-0.7.7.201606060606-runtime.jar=destfile=D:\\git_cdc2\\cdc-backend-services\\cdc-common-config\\target\\jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ cdc-common-config ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ cdc-common-config ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ cdc-common-config ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory D:\git_cdc2\cdc-backend-services\cdc-common-config\src\test\resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ cdc-common-config ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19.1:test (default-test) @ cdc-common-config ---
...
Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.7.201606060606:report (post-test) @ cdc-common-config ---
[INFO] Loading execution data file D:\git_cdc2\cdc-backend-services\cdc-common-config\target\jacoco.exec
[INFO] Analyzed bundle 'cdc-common-config' with 1 classes
[INFO] 
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ cdc-common-config ---
[INFO] Building jar: D:\git_cdc2\cdc-backend-services\cdc-common-config\target\cdc-common-config-1.0.1-RELEASE.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:1.4.1.RELEASE:repackage (default) @ cdc-common-config ---
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 10.372 s
[INFO] Finished at: 2017-03-02T15:43:05+08:00
[INFO] Final Memory: 34M/497M
[INFO] ------------------------------------------------------------------------
</code></pre></div><h1 id="参考"><a href="#参考" class="header-anchor">#</a> <a href="#%E5%8F%82%E8%80%83">#</a> 参考</h1> <ul><li><a href="http://maven.apache.org/pom.html#Dependency_Version_Requirement_Specification" target="_blank" rel="noopener noreferrer">POM Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr> <p>著作权归@pdai所有 原文链接：https://pdai.tech/md/devops/tool/tool-maven.html</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/部署与工具/常用开发工具详解/02 Eclipse STS IDEA.html" class="prev">
        Eclipse STS IDEA
      </a></span> <span class="next"><a href="/blog/部署与工具/常用开发工具详解/04 Maven私有仓库Nexus.html">
        Maven私有仓库Nexus
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.ba0a3011.js" defer></script><script src="/blog/assets/js/4.a5b48594.js" defer></script><script src="/blog/assets/js/10.911987ed.js" defer></script>
  </body>
</html>
