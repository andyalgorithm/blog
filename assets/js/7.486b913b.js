(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{365:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_4.a6038ba2.png"},366:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_8.bc0bb16c.png"},367:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_3.c1e69ab2.png"},368:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_1.8fdbb245.png"},369:function(t,s){t.exports="data:image/png;base64,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"},370:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_7.fffb24d0.png"},371:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_5.4f9d8daa.png"},372:function(t,s,a){t.exports=a.p+"assets/img/ci_action_jenkins_gitlab_6.04f7c0f1.png"},452:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"工具详解-jenkins-gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工具详解-jenkins-gitlab"}},[t._v("#")]),t._v(" 工具详解 - Jenkins+Gitlab")]),t._v(" "),s("blockquote",[s("p",[t._v("我在尝试在容器中安装Jenkins时，初衷是希望使用docker in docker 的模式来实现Jenkins slave容器按需创建。在实现的时候需要在Jenkins 中安装Kubernetes插件。 kubernetes的插件目前来看存在一个Bug，这个bug很小但是会导致我们无法设置和kubernetes mastert认证的机制。Bug是由于配置代理时候是用的IP地址，但是jenkins必须加入http协议，可惜的是加入http协议后更新的代理又不能使用了，进入这种死循环了。所以这种方案暂时搁置。")])]),t._v(" "),s("p",[t._v("So，这里我会写常用的实现自动化部署的方案之Jenkins+Gitlab这种模式，在小型的开发时候完全够用了，从来没有一致的最佳方案，只有适不适合咱们的团队方案。")]),t._v(" "),s("ul",[s("li",[t._v("工具详解 - Jenkins+Gitlab\n"),s("ul",[s("li",[s("a",{attrs:{href:"#jenkins%E7%9A%84%E5%AE%89%E8%A3%85"}},[t._v("Jenkins的安装")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#gitlab%E7%9A%84%E5%AE%89%E8%A3%85"}},[t._v("Gitlab的安装")])]),t._v(" "),s("li",[t._v("自动化部署配置\n"),s("ul",[s("li",[t._v("创建普通编译Job\n"),s("ul",[s("li",[s("a",{attrs:{href:"#jenkins%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAjob%E5%B9%B6%E9%85%8D%E7%BD%AEgit%E4%BF%A1%E6%81%AF"}},[t._v("Jenkins创建一个Job，并配置git信息")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%9B%B4%E6%94%B9%E6%88%90%E5%85%AC%E5%8F%B8artificatory%E9%85%8D%E7%BD%AE"}},[t._v("更改成公司artificatory配置")])])])]),t._v(" "),s("li",[t._v("加入CI Trigger功能\n"),s("ul",[s("li",[s("a",{attrs:{href:"#jenkins-trigger%E9%85%8D%E7%BD%AE"}},[t._v("Jenkins Trigger配置")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#gitlab%E9%85%8D%E7%BD%AEwebhook"}},[t._v("Gitlab配置webhook")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%B5%8B%E8%AF%95webhook"}},[t._v("测试webhook:")])])])]),t._v(" "),s("li",[t._v("加入CD功能\n"),s("ul",[s("li",[s("a",{attrs:{href:"#%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99"}},[t._v("自动化运行脚本编写")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#global%E9%85%8D%E7%BD%AEssh-server"}},[t._v("Global配置SSH Server")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#build-job%E4%B8%AD%E9%85%8D%E7%BD%AEpostbuildover-ssh"}},[t._v("Build Job中配置PostBuild，Over SSH")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%9B%B4%E6%96%B0%E5%B9%B6%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81"}},[t._v("更新并提交代码")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%A7%A6%E5%8F%91%E7%BC%96%E8%AF%91%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"}},[t._v("触发编译和自动化部署")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#tigger-build-logs"}},[t._v("Tigger Build Logs")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%AB%99%E6%9B%B4%E6%96%B0"}},[t._v("查看网站更新")])])])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"}},[t._v("参考文档")])])])])]),t._v(" "),s("h2",{attrs:{id:"jenkins的安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins的安装"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#jenkins%E7%9A%84%E5%AE%89%E8%A3%85"}},[t._v("#")]),t._v(" Jenkins的安装")]),t._v(" "),s("p",[t._v("RedHat Linux RPM packages for Jenkins - https://pkg.jenkins.io/redhat-stable/")]),t._v(" "),s("p",[t._v("To use this repository, run the following command:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--import")]),t._v(" https://pkg.jenkins.io/redhat-stable/jenkins.io.key\n")])])]),s("p",[t._v('If you\'ve previously imported the key from Jenkins, the "rpm --import" will fail because you already have a key. Please ignore that and move on.')]),t._v(" "),s("p",[t._v("You will need to explicitly install a Java runtime environment, because Oracle's Java RPMs are incorrect and fail to register as providing a java dependency. Thus, adding an explicit dependency requirement on Java would force installation of the OpenJDK JVM.")]),t._v(" "),s("p",[t._v("2.54 (2017-04) and newer: Java 8 1.612 (2015-05) and newer: Java 7 With that set up, the Jenkins package can be installed with:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" jenkins\n")])])]),s("p",[t._v("See Wiki for more information, including how Jenkins is run and where the configuration is stored, etc.")]),t._v(" "),s("h2",{attrs:{id:"gitlab的安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitlab的安装"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#gitlab%E7%9A%84%E5%AE%89%E8%A3%85"}},[t._v("#")]),t._v(" Gitlab的安装")]),t._v(" "),s("p",[t._v("自己网上找吧，但是安装8.0+的版本，因为后面webhooks是有版本的要求的。")]),t._v(" "),s("h2",{attrs:{id:"自动化部署配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动化部署配置"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE"}},[t._v("#")]),t._v(" 自动化部署配置")]),t._v(" "),s("h3",{attrs:{id:"创建普通编译job"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建普通编译job"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E7%BC%96%E8%AF%91job"}},[t._v("#")]),t._v(" 创建普通编译Job")]),t._v(" "),s("h4",{attrs:{id:"jenkins创建一个job-并配置git信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins创建一个job-并配置git信息"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#jenkins%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAjob-%E5%B9%B6%E9%85%8D%E7%BD%AEgit%E4%BF%A1%E6%81%AF"}},[t._v("#")]),t._v(" Jenkins创建一个Job，并配置git信息")]),t._v(" "),s("p",[s("img",{attrs:{src:a(365),alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v("注意，这里连接Gitlab需要配置认证")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(366),alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v("同时，保证jenkins机器安装了Java， maven。")])]),t._v(" "),s("p",[t._v("Maven 中需要配置成我们自己的仓库，配置settings.xm即可。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@jenkins ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# find / -name settings.xml")]),t._v("\n/etc/maven/settings.xml\n/var/lib/jenkins/.m2/settings.xml\n/usr/share/maven/conf/settings.xml\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@jenkins ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /usr/share/maven/conf/settings.xml")]),t._v("\n")])])]),s("h4",{attrs:{id:"更改成公司artificatory配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改成公司artificatory配置"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E6%9B%B4%E6%94%B9%E6%88%90%E5%85%AC%E5%8F%B8artificatory%E9%85%8D%E7%BD%AE"}},[t._v("#")]),t._v(" 更改成公司artificatory配置")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("mirrorId_"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v("<")]),t._v("/id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mirrorOf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("*"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/mirrorOf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Human Readable Name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this Mirror."),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("http://maven.aliyun.com/nexus/content/groups/public/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("--"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("mirrorId_"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("1")]),t._v("<")]),t._v("/id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mirrorOf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("*"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/mirrorOf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Human Readable Name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this Mirror."),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("http://139.24.120.251:58086/artifactory/list/maven2/"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h3",{attrs:{id:"加入ci-trigger功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#加入ci-trigger功能"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E5%8A%A0%E5%85%A5ci-trigger%E5%8A%9F%E8%83%BD"}},[t._v("#")]),t._v(" 加入CI Trigger功能")]),t._v(" "),s("h4",{attrs:{id:"jenkins-trigger配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-trigger配置"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#jenkins-trigger%E9%85%8D%E7%BD%AE"}},[t._v("#")]),t._v(" Jenkins Trigger配置")]),t._v(" "),s("p",[s("img",{attrs:{src:a(367),alt:"img"}})]),t._v(" "),s("h4",{attrs:{id:"gitlab配置webhook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitlab配置webhook"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#gitlab%E9%85%8D%E7%BD%AEwebhook"}},[t._v("#")]),t._v(" Gitlab配置webhook")]),t._v(" "),s("p",[s("img",{attrs:{src:a(368),alt:"img"}})]),t._v(" "),s("h4",{attrs:{id:"测试webhook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试webhook"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E6%B5%8B%E8%AF%95webhook"}},[t._v("#")]),t._v(" 测试webhook:")]),t._v(" "),s("p",[s("img",{attrs:{src:a(369),alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"加入cd功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#加入cd功能"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E5%8A%A0%E5%85%A5cd%E5%8A%9F%E8%83%BD"}},[t._v("#")]),t._v(" 加入CD功能")]),t._v(" "),s("h4",{attrs:{id:"自动化运行脚本编写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动化运行脚本编写"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99"}},[t._v("#")]),t._v(" 自动化运行脚本编写")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@jenkins ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat run.sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Checking scic document system status...'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("SCIC_APP_PID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" scic_paas_doc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{ print $2 }'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-z")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SCIC_APP_PID")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Starting scic document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" scic_paas_doc-0.0.1-RELEASE.jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" doc.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Started successfully.\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" killing old "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" -  "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SCIC_APP_PID")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SCIC_APP_PID")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Restarting scic document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" scic_paas_doc-0.0.1-RELEASE.jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" doc.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" Restarted successfully.\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])])]),s("h4",{attrs:{id:"global配置ssh-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#global配置ssh-server"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#global%E9%85%8D%E7%BD%AEssh-server"}},[t._v("#")]),t._v(" Global配置SSH Server")]),t._v(" "),s("p",[s("img",{attrs:{src:a(370),alt:"img"}})]),t._v(" "),s("h4",{attrs:{id:"build-job中配置postbuild-over-ssh"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#build-job中配置postbuild-over-ssh"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#build-job%E4%B8%AD%E9%85%8D%E7%BD%AEpostbuild-over-ssh"}},[t._v("#")]),t._v(" Build Job中配置PostBuild，Over SSH")]),t._v(" "),s("p",[t._v("通过SSH上传jar，并使用脚本运行")]),t._v(" "),s("p",[s("img",{attrs:{src:a(371),alt:"img"}})]),t._v(" "),s("h4",{attrs:{id:"更新并提交代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新并提交代码"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E6%9B%B4%E6%96%B0%E5%B9%B6%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81"}},[t._v("#")]),t._v(" 更新并提交代码")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("pdai@pdai MINGW64 /d/git/k8s/scic_paas_doc "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\nwarning: LF will be replaced by CRLF "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" src/main/resources/static/_sidebar.md.\nThe "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" will have its original line endings "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your working directory.\n\npdai@pdai MINGW64 /d/git/k8s/scic_paas_doc "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit\nwarning: LF will be replaced by CRLF "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" src/main/resources/static/_sidebar.md.\nThe "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" will have its original line endings "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your working directory.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("master warning: LF will be replaced by CRLF "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" src/main/resources/static/_sidebar.md.\nThe "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" will have its original line endings "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your working directory.\n50c1cc4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" trigger\nwarning: LF will be replaced by CRLF "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" src/main/resources/static/_sidebar.md.\nThe "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" will have its original line endings "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" your working directory.\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" insertion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" deletion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\npdai@pdai MINGW64 /d/git/k8s/scic_paas_doc "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\nCounting objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(", done.\nDelta compression using up to "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" threads.\nCompressing objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("/6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nWriting objects: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("/7"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("499")]),t._v(" bytes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" bytes/s, done.\nTotal "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nTo git@10.192.29.91:k8s_test/scic_paas_doc.git\n   63b8ff4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("50c1cc4  master -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" master\n")])])]),s("h4",{attrs:{id:"触发编译和自动化部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触发编译和自动化部署"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E8%A7%A6%E5%8F%91%E7%BC%96%E8%AF%91%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"}},[t._v("#")]),t._v(" 触发编译和自动化部署")]),t._v(" "),s("p",[s("img",{attrs:{src:a(372),alt:"img"}})]),t._v(" "),s("h4",{attrs:{id:"tigger-build-logs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tigger-build-logs"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#tigger-build-logs"}},[t._v("#")]),t._v(" Tigger Build Logs")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("Started by GitLab push by daipeng\nBuilding "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" workspace /var/lib/jenkins/workspace/SCIC_DOC_TRIGGER_BUILD\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rev-parse --is-inside-work-tree "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\nFetching changes from the remote Git repository\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config remote.origin.url git@10.192.29.91:k8s_test/scic_paas_doc.git "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\nFetching upstream changes from git@10.192.29.91:k8s_test/scic_paas_doc.git\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\nusing GIT_SSH to "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" credentials jenkins master server key\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--tags")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--progress")]),t._v(" git@10.192.29.91:k8s_test/scic_paas_doc.git +refs/heads/*:refs/remotes/origin/*\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rev-parse remotes/origin/master^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("commit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" --no-abbrev "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--contains")]),t._v(" 50c1cc4499394d70919a470db5961cec00e65457 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\nChecking out Revision 50c1cc4499394d70919a470db5961cec00e65457 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("origin/master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCommit message: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test trigger"')]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config core.sparsecheckout "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" 50c1cc4499394d70919a470db5961cec00e65457\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rev-list 99d919b08d5a2010fe750d4d920a10024401bc92 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# timeout=10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SCIC_DOC_TRIGGER_BUILD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" $ /bin/sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-xe")]),t._v(" /tmp/jenkins3779972667920467885.sh\n+ mvn package\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Scanning "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" projects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                                                                         \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ------------------------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Building pass_doc "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),t._v(".1-RELEASE\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ------------------------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- maven-resources-plugin:2.6:resources "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default-resources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Using "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UTF-8'")]),t._v(" encoding to copy filtered resources.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Copying "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" resource\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Copying "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("71")]),t._v(" resources\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- maven-compiler-plugin:3.1:compile "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default-compile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Nothing to compile - all classes are up to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- maven-resources-plugin:2.6:testResources "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default-testResources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Using "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UTF-8'")]),t._v(" encoding to copy filtered resources.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" skip non existing resourceDirectory /var/lib/jenkins/workspace/SCIC_DOC_TRIGGER_BUILD/src/test/resources\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- maven-compiler-plugin:3.1:testCompile "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default-testCompile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" No sources to compile\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- maven-surefire-plugin:2.18.1:test "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default-test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" No tests to run.\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- maven-jar-plugin:2.6:jar "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default-jar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Building jar: /var/lib/jenkins/workspace/SCIC_DOC_TRIGGER_BUILD/target/scic_paas_doc-0.0.1-RELEASE.jar\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --- spring-boot-maven-plugin:1.4.1.RELEASE:repackage "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" @ scic_paas_doc ---\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ------------------------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" BUILD SUCCESS\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ------------------------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Total time: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(".695s\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Finished at: Fri Jul "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" 09:15:43 CST "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2017")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" Final Memory: 16M/237M\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("INFO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" ------------------------------------------------------------------------\nSSH: Connecting from "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jenkins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nSSH: Connecting with configuration "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PAAS_DOC_SERVER_200"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nSSH: EXEC: STDOUT/STDERR from "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("/root/run.sh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nChecking scic document system status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nkilling old "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" - "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19970")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nRestarting scic document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nRestarted successfully.\nSSH: EXEC: completed after "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" ms\nSSH: Disconnecting configuration "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("PAAS_DOC_SERVER_200"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nSSH: Transferred "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nFinished: SUCCESS\n")])])]),s("h4",{attrs:{id:"查看网站更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看网站更新"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%AB%99%E6%9B%B4%E6%96%B0"}},[t._v("#")]),t._v(" 查看网站更新")]),t._v(" "),s("p",[t._v("发现确实已经更新 啦。")]),t._v(" "),s("h2",{attrs:{id:"参考文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"}},[t._v("#")]),t._v(" 参考文档")]),t._v(" "),s("p",[t._v("https://jenkins.io/doc/pipeline/tour/hello-world/")]),t._v(" "),s("p",[t._v("https://jenkins.io/user-handbook.pdf")]),t._v(" "),s("p",[t._v("http://www.cnblogs.com/kevingrace/p/5651447.html")]),t._v(" "),s("p",[t._v("http://www.cnblogs.com/ceshi2016/p/6529557.html")]),t._v(" "),s("p",[t._v("http://linuxsogood.org/1539.html")]),t._v(" "),s("p",[t._v("http://www.mamicode.com/info-detail-1264849.html")]),t._v(" "),s("p",[t._v("http://blog.didispace.com/spring-boot-run-backend/")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("著作权归@pdai所有 原文链接：https://pdai.tech/md/devops/tool/tool-jenkins-gitlab.html")])])}),[],!1,null,null,null);s.default=e.exports}}]);