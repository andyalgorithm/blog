(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{428:function(t,a,s){"use strict";s.r(a);var e=s(14),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux-linux-常用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-linux-常用"}},[t._v("#")]),t._v(" Linux - Linux 常用")]),t._v(" "),a("blockquote",[a("p",[t._v("本文记录常用的Linux命令, 主要使用CentOS7 @pdai")])]),t._v(" "),a("ul",[a("li",[t._v("Linux - Linux 常用\n"),a("ul",[a("li",[t._v("常用\n"),a("ul",[a("li",[a("a",{attrs:{href:"#network"}},[t._v("Network")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AEhost-name"}},[t._v("设置host-name")])])])]),t._v(" "),a("li",[t._v("工具\n"),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3"}},[t._v("查看端口")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#tophtop"}},[t._v("top/htop")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"常用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"#%E5%B8%B8%E7%94%A8"}},[t._v("#")]),t._v(" 常用")]),t._v(" "),a("h3",{attrs:{id:"network"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"#network"}},[t._v("#")]),t._v(" Network")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@docker ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  vi /etc/sysconfig/network-scripts/ifcfg-ens160")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TYPE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Ethernet\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PROXY_METHOD")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("none\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("BROWSER_ONLY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("BOOTPROTO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("none\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DEFROUTE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV4_FAILURE_FATAL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6INIT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6_AUTOCONF")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6_DEFROUTE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6_FAILURE_FATAL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6_ADDR_GEN_MODE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("stable-privacy\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ens160\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("UUID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ae63abaa-be93-4f70-a7b8-8da53e1c3aa8\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DEVICE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ens160\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ONBOOT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yes\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPADDR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.11")]),t._v(".39.21\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PREFIX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GATEWAY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.11")]),t._v(".39.254\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DNS1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.11")]),t._v(".105.201\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPV6_PRIVACY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no\n")])])]),a("h3",{attrs:{id:"设置host-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置host-name"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"#%E8%AE%BE%E7%BD%AEhost-name"}},[t._v("#")]),t._v(" 设置host-name")]),t._v(" "),a("p",[a("strong",[t._v("centos6")])]),t._v(" "),a("p",[t._v("需要修改两处: 一处是/etc/sysconfig/network，另一处是/etc/hosts，只修改任一处会导致系统启动异常。首先切换到root用户。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("/etc/sysconfig/network\n打开该文件，里面有一行 `"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("HOSTNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("localhost.localdomain，修改 localhost.localdomain 为你的主机名。\n/etc/hosts\n 打开该文件，会有一行 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1 localhost.localdomain localhost其中 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1 是本地环路地址， localhost.localdomain 是主机名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，也就是你待修改的。\n")])])]),a("p",[t._v("将上面两个文件修改完后，并不能立刻生效。如果要立刻生效的话，可以用 hostname your-hostname 作临时修改(或者修改完之后执行exec bash立即改变)，它只是临时地修改主机名，查看主机名uname -n系统重启后会恢复原样的。")]),t._v(" "),a("p",[t._v("但修改上面两个文件是永久的，重启系统会得到新的主机名。 最后，重启后查看主机名 uname -n 。")]),t._v(" "),a("p",[a("strong",[t._v("centos7")])]),t._v(" "),a("p",[t._v("临时生效")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos7 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hostname 132")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos7 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hostname")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("132")]),t._v("\n")])])]),a("p",[t._v("永久生效(不会立刻修改，需重启)")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos7 ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hostnamectl set-hostname centos7")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("或者修改完之后执行"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("立即改变"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，\n")])])]),a("p",[t._v("可以参考如下工具: hostnamectl https://blog.csdn.net/younger_china/article/details/51757979")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ceph@client-node ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$ hostnamectlstatus\n  Static hostname: client-node\n         Icon name: computer-vm\n           Chassis: vm\n        Machine ID:cfc5689e4c90435dbf037c4b600bdba2\n           Boot ID:0723cc481fd34048ab20036d0367ffc2\n   Virtualization: vmware\n Operating System: CentOS Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n       CPE OS Name: cpe:/o:centos:centos:7\n            Kernel: Linux "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.10")]),t._v(".0-327.el7.x86_64\n     Architecture: x86-64\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ceph@client-node ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("$\n")])])]),a("h2",{attrs:{id:"工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"#%E5%B7%A5%E5%85%B7"}},[t._v("#")]),t._v(" 工具")]),t._v(" "),a("h3",{attrs:{id:"查看端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看端口"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"#%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3"}},[t._v("#")]),t._v(" 查看端口")]),t._v(" "),a("p",[t._v("netstat -nltp")]),t._v(" "),a("p",[t._v("需安装net-tools yum install net-tools")]),t._v(" "),a("p",[t._v("参考")]),t._v(" "),a("h3",{attrs:{id:"top-htop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#top-htop"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"#top-htop"}},[t._v("#")]),t._v(" top/htop")]),t._v(" "),a("p",[t._v("htop")]),t._v(" "),a("p",[t._v("需安装htop yum install htop")]),t._v(" "),a("p",[a("strong",[t._v("参考")])]),t._v(" "),a("ul",[a("li",[t._v("官网 http://hisham.hm/htop/")]),t._v(" "),a("li",[t._v("htop详解 https://www.cnblogs.com/lazyfang/p/7650010.html")]),t._v(" "),a("li",[t._v("htop的安装和使用！ https://www.cnblogs.com/enet01/p/8316006.html")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("著作权归@pdai所有 原文链接：https://pdai.tech/md/devops/linux/linux-usage.html")])])}),[],!1,null,null,null);a.default=n.exports}}]);